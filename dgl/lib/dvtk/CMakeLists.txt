# CMakeLists.txt to build lib/dvtk

IF( WIN32 )
	ADD_DEFINITIONS( /DDVTK_EXPORTS )
ENDIF( WIN32 )

INCLUDE_DIRECTORIES( ${DGL_SOURCE_DIR}/include ${DTK_INCLUDE}
		${GLX_HEADER_PATH} ${VTK_INCLUDE_DIRS} ${PRODUCER_INCLUDE_DIR}
		${OPENTHREADS_INCLUDE_DIR} )
ADD_LIBRARY( dvtk DVtkRenderer.cpp DVtkRenderWindow.cpp DVtkWandRenderer.cpp )
TARGET_LINK_LIBRARIES( dvtk dgl vtkGraphics vtkCommon vtkFiltering vtkRendering vtkImaging vtkIO )
LINK_DIRECTORIES( ${VTK_LIBRARY_DIRS} )

IF( UNIX )
	SET( UNIX_COMPILE_FLAGS -Wno-deprecated )
ENDIF( UNIX )

SET_TARGET_PROPERTIES( dvtk PROPERTIES COMPILE_FLAGS "${UNIX_COMPILE_FLAGS}"
		LINK_FLAGS "${DGL_LIB_FLAGS}" VERSION ${LIBDGL_VERSION}
		SOVERSION ${LIBDGL_MAJOR_VERSION} )
INSTALL( TARGETS dvtk RUNTIME DESTINATION bin LIBRARY DESTINATION lib ARCHIVE
		DESTINATION lib PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE
		GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE )

