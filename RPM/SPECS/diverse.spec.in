# -*- rpm-spec -*-
Summary:        diverse
Name:           diverse
Version:        @DIVERSE_VERSION@
Release:        1
License:        GPL
Group:          Unknown
Source:         diverse-%{version}-Source.tar.gz
BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root
BuildRequires:	cmake

#%define prefix /opt/diverse-%{version}
%define prefix /usr/local
%define rpmprefix $RPM_BUILD_ROOT%{prefix}
%define srcdirname %{name}-%{version}-Source

%description
diverse : DIVERSE - Device Independent Virtual Environments Reconfigurable Scalable Extensible - VR software that just works

%prep
%setup -q -n %{srcdirname}

%build
cd ..
rm -rf build_tree
mkdir build_tree
cd build_tree
cmake -DCMAKE_INSTALL_PREFIX=%{rpmprefix} ../%{srcdirname}
make
  
%install 
cd ../build_tree
make install

%clean
rm -rf %{srcdirname}
rm -rf build_tree

%files
%defattr(-,root,root,-)
%dir %{prefix}
%{prefix}/*

%changelog
* Wed Feb 28 2007 Erk <eric.noulard@gmail.com>
  Generated by CMake UseRPMTools macros
